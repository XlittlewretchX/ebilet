"use strict";(self.webpackChunkebilet_client=self.webpackChunkebilet_client||[]).push([[792],{273:(e,n,t)=>{var r=t(848),a=t(540),i=t(338),o=t(976),s=t(767),c=t(468),l=t(816),u=t(83),d=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},f=function(e,n){var t,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=n.call(e,i)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},h=u.A.create({baseURL:"https://ebilet-8f91.onrender.com/api",headers:{"Content-Type":"application/json"}});h.interceptors.request.use((function(e){var n=localStorage.getItem("token");return n&&(e.headers.Authorization="Bearer ".concat(n)),e}));var p,v=function(e){return d(void 0,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,h.post("/auth/register",e)];case 1:return[2,n.sent().data]}}))}))},m=function(e){return d(void 0,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,h.post("/auth/login",e)];case 1:return[2,n.sent().data]}}))}))},y=function(e){return d(void 0,void 0,void 0,(function(){var n;return f(this,(function(t){switch(t.label){case 0:return(n=new FormData).append("avatar",e),[4,h.post("/auth/avatar",n,{headers:{"Content-Type":"multipart/form-data"}})];case 1:return[2,t.sent().data]}}))}))},g=function(e){return d(void 0,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,h.patch("/auth/city",{city:e})];case 1:return[2,n.sent().data]}}))}))},x=function(){return d(void 0,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,h.get("/events")];case 1:return[2,e.sent().data]}}))}))},b=function(e){return d(void 0,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,h.get("/events/".concat(e))];case 1:return[2,n.sent().data]}}))}))},j=function(e){return d(void 0,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,h.post("/events",e,{headers:{"Content-Type":"multipart/form-data"}})];case 1:return[2,n.sent().data]}}))}))},w=function(){return d(void 0,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,h.get("/events/user/events")];case 1:return[2,e.sent().data]}}))}))},N=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},k=function(e,n){var t,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=n.call(e,i)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},C={user:null,token:localStorage.getItem("token"),isAuthenticated:!1,loading:!1,error:null},S=(0,l.zD)("auth/register",(function(e,n){return N(void 0,[e,n],void 0,(function(e,n){var t,r,a,i=n.rejectWithValue;return k(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,v(e)];case 1:return t=n.sent(),localStorage.setItem("token",t.token),[2,t];case 2:return r=n.sent(),(a=r).response&&a.response.data&&a.response.data.message?[2,i(a.response.data.message)]:[2,i("Ошибка при регистрации")];case 3:return[2]}}))}))})),P=(0,l.zD)("auth/login",(function(e,n){return N(void 0,[e,n],void 0,(function(e,n){var t,r,a,i=n.rejectWithValue;return k(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,m(e)];case 1:return t=n.sent(),localStorage.setItem("token",t.token),[2,t];case 2:return r=n.sent(),(a=r).response&&a.response.data&&a.response.data.message?[2,i(a.response.data.message)]:[2,i("Ошибка при входе")];case 3:return[2]}}))}))})),E=(0,l.zD)("auth/uploadAvatar",(function(e){return N(void 0,void 0,void 0,(function(){return k(this,(function(n){switch(n.label){case 0:return[4,y(e)];case 1:return[2,n.sent()]}}))}))})),D=(0,l.zD)("auth/updateCity",(function(e,n){return N(void 0,[e,n],void 0,(function(e,n){var t=n.rejectWithValue;return k(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,g(e)];case 1:return[2,n.sent().city];case 2:return n.sent(),[2,t("Ошибка при обновлении города")];case 3:return[2]}}))}))})),I=(0,l.Z0)({name:"auth",initialState:C,reducers:{logout:function(e){e.user=null,e.token=null,e.isAuthenticated=!1,localStorage.removeItem("token")},clearError:function(e){e.error=null}},extraReducers:function(e){e.addCase(S.pending,(function(e){e.loading=!0,e.error=null})).addCase(S.fulfilled,(function(e,n){e.loading=!1,e.isAuthenticated=!0,e.user=n.payload.user,e.token=n.payload.token})).addCase(S.rejected,(function(e,n){e.loading=!1,e.error=n.payload||n.error.message||"Ошибка при регистрации"})).addCase(P.pending,(function(e){e.loading=!0,e.error=null})).addCase(P.fulfilled,(function(e,n){e.loading=!1,e.isAuthenticated=!0,e.user=n.payload.user,e.token=n.payload.token})).addCase(P.rejected,(function(e,n){e.loading=!1,e.error=n.payload||n.error.message||"Ошибка при входе"})).addCase(E.fulfilled,(function(e,n){e.user&&(e.user.avatarUrl=n.payload.avatarUrl)})).addCase(D.fulfilled,(function(e,n){e.user&&(e.user.city=n.payload)}))}}),O=(p=I.actions).logout;p.clearError;const R=I.reducer;var B=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},A=function(e,n){var t,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=n.call(e,i)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},T=(0,l.zD)("event/fetchEvents",(function(){return B(void 0,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:return[4,x()];case 1:return[2,e.sent()]}}))}))})),L=((0,l.zD)("event/fetchEventById",(function(e){return B(void 0,void 0,void 0,(function(){return A(this,(function(n){switch(n.label){case 0:return[4,b(e)];case 1:return[2,n.sent()]}}))}))})),(0,l.zD)("event/createEvent",(function(e){return B(void 0,void 0,void 0,(function(){return A(this,(function(n){switch(n.label){case 0:return[4,j(e)];case 1:return[2,n.sent()]}}))}))}))),U=(0,l.zD)("event/fetchUserEvents",(function(){return B(void 0,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:return[4,w()];case 1:return[2,e.sent()]}}))}))})),F=(0,l.Z0)({name:"event",initialState:{events:[],loading:!1,error:null},reducers:{clearError:function(e){e.error=null}},extraReducers:function(e){e.addCase(T.pending,(function(e){e.loading=!0,e.error=null})).addCase(T.fulfilled,(function(e,n){e.loading=!1,e.events=n.payload})).addCase(T.rejected,(function(e,n){e.loading=!1,e.error=n.error.message||"Ошибка при загрузке событий"})).addCase(L.pending,(function(e){e.loading=!0,e.error=null})).addCase(L.fulfilled,(function(e,n){e.loading=!1,e.events.unshift(n.payload)})).addCase(L.rejected,(function(e,n){e.loading=!1,e.error=n.error.message||"Ошибка при создании события"})).addCase(U.pending,(function(e){e.loading=!0,e.error=null})).addCase(U.fulfilled,(function(e,n){e.loading=!1,e.events=n.payload})).addCase(U.rejected,(function(e,n){e.loading=!1,e.error=n.error.message||"Ошибка при загрузке событий пользователя"}))}});F.actions.clearError;const M=F.reducer;var q,z=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},H=function(e,n){var t,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=n.call(e,i)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},W=(0,l.zD)("city/fetchByIP",(function(e,n){return z(void 0,[e,n],void 0,(function(e,n){var t,r,a,i,o,s,c,l,u,d,f,h,p,v,m,y,g=n.rejectWithValue;return H(this,(function(e){switch(e.label){case 0:return e.trys.push([0,6,,7]),t="90cea4be77d44b80ab21374726d21b70",console.log("[fetchCityByIP] Используемый API-ключ:",t),r="https://api.ipgeolocation.io/ipgeo?apiKey=".concat(t),console.log("[fetchCityByIP] URL запроса:",r),[4,fetch(r)];case 1:return a=e.sent(),console.log("[fetchCityByIP] Статус ответа:",a.status),a.ok?[4,a.json()]:(console.error("[fetchCityByIP] Ошибка API:",a.status),[2,g("Ошибка API: ".concat(a.status))]);case 2:return i=e.sent(),console.log("[fetchCityByIP] Данные от ipgeolocation:",i),o=i.city,s=i.latitude,c=i.longitude,s&&c?(l="https://nominatim.openstreetmap.org/reverse?lat=".concat(s,"&lon=").concat(c,"&format=json&accept-language=ru"),console.log("[fetchCityByIP] URL запроса к Nominatim:",l),[4,fetch(l,{headers:{"User-Agent":"ebilet-app/1.0 (your@email.com)"}})]):(console.warn("[fetchCityByIP] Нет координат, возвращаю город:",o),[2,o||"Город"]);case 3:return u=e.sent(),console.log("[fetchCityByIP] Статус ответа Nominatim:",u.status),u.ok?[4,u.json()]:[3,5];case 4:if(d=e.sent(),console.log("[fetchCityByIP] Данные от Nominatim:",d),f=(null===(p=d.address)||void 0===p?void 0:p.city)||(null===(v=d.address)||void 0===v?void 0:v.town)||(null===(m=d.address)||void 0===m?void 0:m.village)||(null===(y=d.address)||void 0===y?void 0:y.state))return console.log("[fetchCityByIP] Город на русском найден:",f),[2,f];e.label=5;case 5:return console.warn("[fetchCityByIP] Город на русском не найден, возвращаю:",o),[2,o||"Город"];case 6:return h=e.sent(),console.error("[fetchCityByIP] Ошибка:",h),[2,g(h.message)];case 7:return[2]}}))}))})),G=(0,l.Z0)({name:"city",initialState:{name:"Город",showPicker:!1},reducers:{openPicker:function(e){e.showPicker=!0},closePicker:function(e){e.showPicker=!1},setCity:function(e,n){e.name=n.payload,e.showPicker=!1}},extraReducers:function(e){e.addCase(W.fulfilled,(function(e,n){var t=n.payload;e.name=t,e.showPicker=!1})).addCase(W.rejected,(function(e){e.showPicker=!0}))}}),Z=((q=G.actions).openPicker,q.closePicker,q.setCity);const X=G.reducer;var V=(0,l.Z0)({name:"search",initialState:{value:""},reducers:{setSearch:function(e,n){e.value=n.payload}}}),Y=V.actions.setSearch;const K=V.reducer;var _,J={category:"",dateRange:{start:"",end:""},priceRange:{min:0,max:1e4}},Q=(0,l.Z0)({name:"filter",initialState:J,reducers:{setFilters:function(e,n){return n.payload},resetFilters:function(){return J}}}),$=(_=Q.actions).setFilters,ee=_.resetFilters;const ne=Q.reducer;var te=(0,l.U1)({reducer:{auth:R,event:M,city:X,search:K,filter:ne}}),re=function(){return(0,c.wA)()},ae=c.d4;const ie="ZBn11TNK",oe="CUqvr6P1",se="AHg1PWg4",ce="lm66XJB1",le="bJBRsEr3",ue="afkZPFTr",de="qRFgd7Gl";var fe=function(){return fe=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},fe.apply(this,arguments)},he=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},pe=function(e,n){var t,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=n.call(e,i)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ve=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};const me=function(e){var n=e.isOpen,t=e.onClose,i=re(),o=ae((function(e){return e.auth})),s=o.loading,c=o.error,l=o.isAuthenticated,u=ae((function(e){return e.city.name})),d=(0,a.useState)(!0),f=d[0],h=d[1],p=(0,a.useState)({username:"",email:"",password:"",confirmPassword:""}),v=p[0],m=p[1],y=(0,a.useState)(""),g=y[0],x=y[1],b=function(e){var n;m(fe(fe({},v),((n={})[e.target.name]=e.target.value,n)))};return(0,a.useEffect)((function(){n&&l&&f&&t()}),[l,n,f,t]),(0,a.useEffect)((function(){n&&(m({username:"",email:"",password:"",confirmPassword:""}),x(""))}),[n,f]),n?(0,r.jsx)("div",{className:ie,onClick:t,children:(0,r.jsxs)("div",{className:oe,onClick:function(e){return e.stopPropagation()},children:[(0,r.jsx)("button",{className:se,onClick:t,children:"×"}),(0,r.jsx)("h2",{children:f?"Вход":"Регистрация"}),(0,r.jsxs)("form",{onSubmit:function(e){return he(void 0,void 0,void 0,(function(){var n,r,a;return pe(this,(function(o){switch(o.label){case 0:return e.preventDefault(),f||v.password===v.confirmPassword?f?(v.email,v.confirmPassword,n=ve(v,["email","confirmPassword"]),[4,i(P(n))]):[3,2]:(alert("Пароли не совпадают"),[2]);case 1:return o.sent(),[3,4];case 2:return v.confirmPassword,r=ve(v,["confirmPassword"]),[4,i(S(fe(fe({},r),{city:u})))];case 3:a=o.sent(),S.fulfilled.match(a)&&(x("Вы успешно зарегистрировались!"),setTimeout((function(){x(""),t()}),1500)),o.label=4;case 4:return[2]}}))}))},children:[(0,r.jsx)("div",{className:ce,children:(0,r.jsx)("input",{type:"text",name:"username",placeholder:"Имя пользователя",value:v.username,onChange:b,required:!0})}),!f&&(0,r.jsx)("div",{className:ce,children:(0,r.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:v.email,onChange:b,required:!0})}),(0,r.jsx)("div",{className:ce,children:(0,r.jsx)("input",{type:"password",name:"password",placeholder:"Пароль",value:v.password,onChange:b,required:!0})}),!f&&(0,r.jsx)("div",{className:ce,children:(0,r.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Подтвердите пароль",value:v.confirmPassword,onChange:b,required:!0})}),(0,r.jsx)("button",{type:"submit",disabled:s,children:s?"Загрузка...":f?"Войти":"Зарегистрироваться"}),c&&(0,r.jsx)("p",{className:le,children:c}),g&&(0,r.jsx)("p",{className:ue,children:g})]}),(0,r.jsxs)("p",{className:de,children:[f?"Нет аккаунта?":"Уже есть аккаунт?"," ",(0,r.jsx)("button",{onClick:function(){return h(!f)},children:f?"Зарегистрироваться":"Войти"})]})]})}):null},ye="fAQaBm7b",ge="PlasbFNv",xe="kTUf0kGC",be="fEL3MMAt",je="fM4jt9LS",we="L30DL5n3",Ne="r7jyaAy1",ke="IXD9sEDJ",Ce="a3hu4l6L";var Se=function(){return(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:6},children:(0,r.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z",fill:"#007bff"})})};const Pe=function(){var e=function(){var e=re(),n=ae((function(e){return e.city})).name,t=ae((function(e){return e.auth})),r=t.isAuthenticated,i=t.user,o=(0,a.useState)(!1),s=o[0],c=o[1],l=(0,a.useState)(""),u=l[0],d=l[1],f=r?(null==i?void 0:i.city)||"Город":n;return(0,a.useEffect)((function(){d(f)}),[f]),{displayCity:f,editing:s,input:u,setEditing:c,setInput:d,handleSave:function(){u.trim()&&(r?(e(D(u.trim())),e(Z(u.trim()))):e(Z(u.trim())),c(!1))}}}(),n=e.displayCity,t=e.editing,i=e.input,o=e.setEditing,s=e.setInput,c=e.handleSave;return(0,r.jsxs)("div",{className:xe,children:[(0,r.jsxs)("button",{className:be,onClick:function(){return o(!0)},"aria-label":"Выбрать город",children:[(0,r.jsx)(Se,{}),(0,r.jsx)("span",{className:je,children:n})]}),t&&(0,r.jsx)("div",{className:we,onClick:function(){return o(!1)},children:(0,r.jsxs)("div",{className:Ne,onClick:function(e){return e.stopPropagation()},children:[(0,r.jsx)("input",{className:ke,value:i,onChange:function(e){return s(e.target.value)},placeholder:"Введите город",autoFocus:!0}),(0,r.jsxs)("div",{className:Ce,children:[(0,r.jsx)("button",{className:ye,onClick:c,children:"Сохранить"}),(0,r.jsx)("button",{className:ge,onClick:function(){return o(!1)},children:"Отмена"})]})]})})]})},Ee="u_gfar7T",De="c4nqin0V",Ie="vznLq989",Oe="RtxXsOy1",Re="zAcwWXS1",Be="yOBgwguB",Ae="ecktM8Mn",Te="WzUGgLsP",Le="ODPKXZs7",Ue="lUEi3qfW",Fe="V_MqE9EB",Me="fsUi_MnL";const qe=function(e){var n=e.user,t=e.avatarUrl,i=function(){var e=re(),n=(0,s.Zp)(),t=(0,a.useState)(!1),r=t[0],i=t[1],o=(0,a.useState)(!1),c=o[0],l=o[1];return{showUserMenu:r,showLogoutConfirm:c,setShowUserMenu:i,setShowLogoutConfirm:l,onLogout:function(){e(O()),l(!1),i(!1)},onProfileClick:function(){i(!1),n("/profile")}}}(),o=i.showUserMenu,c=i.showLogoutConfirm,l=i.setShowUserMenu,u=i.setShowLogoutConfirm,d=i.onLogout,f=i.onProfileClick;return a.useEffect((function(){if(o){var e=function(e){var n=document.getElementById("user-menu-dropdown");n&&!n.contains(e.target)&&(l(!1),u(!1))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}}),[o,l,u]),(0,r.jsxs)("div",{className:Ee,children:[(0,r.jsxs)("button",{className:De+(o?" "+Ie:""),onClick:function(){l(!o),u(!1)},"aria-haspopup":"true","aria-expanded":o,children:[(0,r.jsx)("img",{src:t,alt:"avatar",className:Oe}),(0,r.jsx)("span",{className:Re,children:null==n?void 0:n.username})]}),o&&(0,r.jsxs)("div",{className:Be,id:"user-menu-dropdown",children:[(0,r.jsx)("a",{className:Ae,href:"/profile",onClick:function(e){e.preventDefault(),l(!1),f()},children:"Мой профиль"}),(0,r.jsx)("div",{className:Te}),c?(0,r.jsxs)("div",{className:Le,children:["Выйти из аккаунта?",(0,r.jsxs)("div",{className:Ue,children:[(0,r.jsx)("button",{className:Fe,onClick:function(){d(),u(!1),l(!1)},children:"Да"}),(0,r.jsx)("button",{className:Me,onClick:function(){return u(!1)},children:"Нет"})]})]}):(0,r.jsx)("button",{className:Ae,onClick:function(){return u(!0)},children:"Выйти"})]})]})},ze="g41BiwqO",He="Ur4ZVcPj",We="NZN2De8g",Ge="EgI6UGtM",Ze="C12NQz6V",Xe="THy6AUoD",Ve="PGbuMa0s";const Ye=function(){var e=re(),n=ae((function(e){return e.search.value}));return(0,r.jsx)("div",{className:Ve,children:(0,r.jsx)("input",{type:"text",placeholder:"Поиск мероприятий...",value:n,onChange:function(n){return e(Y(n.target.value))}})})};const Ke=function(){var e,n=re(),t=ae((function(e){return e.auth})),i=t.user,s=t.isAuthenticated,c=(0,a.useState)(!1),l=c[0],u=c[1];ae((function(e){return e.search.value}));(0,a.useEffect)((function(){s?(null==i?void 0:i.city)&&"Город"!==i.city?n(Z(i.city)):n(W()).then((function(e){W.fulfilled.match(e)&&(n(D(e.payload)),n(Z(e.payload)))})):n(W()).then((function(e){W.fulfilled.match(e)&&n(Z(e.payload))}))}),[s]);var d=(null==i?void 0:i.avatarUrl)?i.avatarUrl.startsWith("/uploads")?"".concat(null===(e="https://ebilet-8f91.onrender.com/api")?void 0:e.replace("/api","")).concat(i.avatarUrl):i.avatarUrl:"/img/default-avatar.svg";return(0,r.jsxs)("header",{className:ze,children:[(0,r.jsxs)("div",{className:He,children:[(0,r.jsx)(o.N_,{to:"/",className:We,children:"EBilet"}),(0,r.jsx)(Ye,{}),(0,r.jsxs)("nav",{className:Ge,children:[(0,r.jsx)(Pe,{}),s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.N_,{to:"/my-tickets",className:Ze,children:"Мои события"}),(0,r.jsx)(qe,{user:i,avatarUrl:d})]}):(0,r.jsx)("button",{onClick:function(){return u(!0)},className:Xe,children:"Войти"})]})]}),(0,r.jsx)(me,{isOpen:l,onClose:function(){return u(!1)}})]})},_e="q5cSkrMt",Je="Ae6HeLkd",Qe="Y5GpHGmX",$e="rwPoguZK",en="cck_aaWJ",nn="HPiEpQok",tn="FiozW65V",rn="aYq2HTAm",an="SOh8XEf3",on="DkILKbzx",sn="LgrZNhg5",cn="EkpXFwbY",ln="BTMdkehq";const un=function(e){var n,t,a=e.event,i=e.onAddToFavorites,o=e.onBuyTicket;return(0,r.jsxs)("div",{className:_e,children:[a.imageUrl&&(0,r.jsx)("div",{className:Je,children:(0,r.jsx)("img",{src:a.imageUrl.startsWith("/uploads")?"".concat(null===(n="https://ebilet-8f91.onrender.com/api")?void 0:n.replace("/api","")).concat(a.imageUrl):a.imageUrl,alt:a.title,className:Qe})}),(0,r.jsxs)("div",{className:$e,children:[(0,r.jsx)("h3",{className:en,children:a.title}),(0,r.jsx)("p",{className:nn,children:a.description}),(0,r.jsxs)("div",{className:tn,children:[(0,r.jsx)("span",{className:rn,children:(t=a.date,new Date(t).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}))}),(0,r.jsx)("span",{className:an,children:a.location}),(0,r.jsxs)("span",{className:on,children:[a.price," ₽"]})]}),(0,r.jsxs)("div",{className:sn,children:[(0,r.jsx)("button",{className:cn,onClick:function(){return i(a.id)},children:"В избранное"}),(0,r.jsx)("button",{className:ln,onClick:function(){return o(a.id)},children:"Купить билет"})]})]})]})},dn="qBEGkhBl";const fn=function(e){var n=e.events,t=e.onAddToFavorites,a=e.onBuyTicket;return(0,r.jsx)("div",{className:dn,children:n.map((function(e){return(0,r.jsx)(un,{event:e,onAddToFavorites:t,onBuyTicket:a},e.id)}))})},hn={filters:"fwAkczIH",title:"iCXDBxH_",section:"kBXyRaRk",label:"GUckwTmH",select:"Y8pf8z9R",input:"ghCNQt6h",dateRange:"bvfcjHbC",priceRange:"yVFLEEy2"};var pn=function(){return pn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},pn.apply(this,arguments)};const vn=function(){var e=re(),n=ae((function(e){return e.filter})),t=function(t,r){var a,i=pn(pn({},n),((a={})[t]=r,a));e($(i))};return(0,r.jsxs)("div",{className:hn.filters,children:[(0,r.jsx)("h3",{className:hn.title,children:"Фильтры"}),(0,r.jsxs)("div",{className:hn.section,children:[(0,r.jsx)("label",{className:hn.label,children:"Категория"}),(0,r.jsxs)("select",{className:hn.select,value:n.category,onChange:function(e){return t("category",e.target.value)},children:[(0,r.jsx)("option",{value:"",children:"Все категории"}),(0,r.jsx)("option",{value:"concert",children:"Концерты"}),(0,r.jsx)("option",{value:"theater",children:"Театр"}),(0,r.jsx)("option",{value:"exhibition",children:"Выставки"}),(0,r.jsx)("option",{value:"sport",children:"Спорт"})]})]}),(0,r.jsxs)("div",{className:hn.section,children:[(0,r.jsx)("label",{className:hn.label,children:"Цена"}),(0,r.jsxs)("div",{className:hn.priceRange,children:[(0,r.jsx)("input",{type:"number",className:hn.input,placeholder:"От",value:n.priceRange.min,onChange:function(e){return t("priceRange",pn(pn({},n.priceRange),{min:Number(e.target.value)}))}}),(0,r.jsx)("input",{type:"number",className:hn.input,placeholder:"До",value:n.priceRange.max,onChange:function(e){return t("priceRange",pn(pn({},n.priceRange),{max:Number(e.target.value)}))}})]})]}),(0,r.jsx)("button",{className:hn.resetBtn,onClick:function(){e(ee()),window.dispatchEvent(new Event("reset-date-strip"))},style:{marginTop:"1.5rem",width:"100%",background:"#e3eaff",color:"#2563eb",border:"none",borderRadius:"6px",padding:"0.6rem 0",fontWeight:600,cursor:"pointer"},children:"Сбросить фильтры"})]})},mn="j0hpXBhN",yn="eHWccHhH",gn="vYHN7kuE",xn="uoLFLMYf",bn="H77EWGMO",jn="NMRhFUn6",wn="J96oD63O",Nn="qeNvi5fk",kn="KFdP2fDA",Cn="kNzAYewg",Sn="DM0HIRNy",Pn="ENnngIek",En="xBFG1fFa",Dn="ZmmTvOnY",In="ktm0PLty";var On=t(326),Rn=(t(995),t(614)),Bn=["ПН","ВТ","СР","ЧТ","ПТ","СБ","ВС"],An=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],Tn=function(e){return e.toString().padStart(2,"0")},Ln=function(e){return"".concat(e.getFullYear(),"-").concat(Tn(e.getMonth()+1),"-").concat(Tn(e.getDate()))};const Un=function(e){var n=e.onDateSelect,t=e.onRangeSelect,i=new Date,o=(0,a.useState)(!1),s=o[0],c=o[1],l=(0,a.useState)(null),u=l[0],d=l[1],f=(0,a.useState)([null,null]),h=f[0],p=f[1],v=(0,a.useState)(i.getMonth()),m=v[0],y=v[1],g=(0,a.useState)(i.getFullYear()),x=g[0],b=g[1];(0,a.useEffect)((function(){if(u||h[0]||h[1]){var e=function(){d(null),p([null,null])};return window.addEventListener("reset-date-strip",e),function(){return window.removeEventListener("reset-date-strip",e)}}}),[u,h]);var j=function(e,n){for(var t=[],r=new Date(e,n,1);r.getMonth()===n;)t.push(new Date(r)),r.setDate(r.getDate()+1);return t}(x,m),w=new Date(x,m,1).getDay();0===w&&(w=7);Array(w-1).fill(null);var N=function(e){if(Array.isArray(e))p(e),d(null),e[0]&&e[1]&&(t(Ln(e[0]),Ln(e[1])),c(!1));else if(e instanceof Date){d(e),p([null,null]);var r=Ln(e);n(r),c(!1)}},k=function(){d(null),p([null,null]),t("",""),c(!1)};return(0,r.jsxs)("div",{className:mn,children:[(0,r.jsxs)("div",{className:yn,children:[(0,r.jsx)("button",{className:xn,onClick:function(){0===m?(y(11),b((function(e){return e-1}))):y((function(e){return e-1}))},children:"←"}),(0,r.jsxs)("span",{className:gn,children:[An[m]," ",x]}),(0,r.jsx)("button",{className:xn,onClick:function(){11===m?(y(0),b((function(e){return e+1}))):y((function(e){return e+1}))},children:"→"})]}),(0,r.jsx)("div",{className:bn,children:(0,r.jsx)("div",{className:wn,children:j.map((function(e){var a=e.toDateString()===i.toDateString(),o=u&&e.toDateString()===u.toDateString(),s=Bn[(e.getDay()+6)%7];return(0,r.jsxs)("button",{className:Nn+(o?" "+kn:"")+(a?" "+Cn:""),onClick:function(){return function(e){d(e),p([null,null]);var r=Ln(e);n(r),t(r,r)}(e)},children:[(0,r.jsx)("span",{className:jn,children:s}),(0,r.jsx)("span",{className:Sn,children:e.getDate()})]},e.toISOString())}))})}),(0,r.jsx)("button",{className:Pn,onClick:function(){return c(!0)},children:"📅"}),s&&(0,r.jsx)((function(){return(0,r.jsx)("div",{className:En,onClick:function(){return c(!1)},children:(0,r.jsxs)("div",{className:Dn,onClick:function(e){return e.stopPropagation()},children:[(0,r.jsx)(On.Ay,{selected:u,onChange:N,startDate:h[0],endDate:h[1],selectsRange:!0,inline:!0,locale:Rn.ru,dateFormat:"dd.MM.yyyy"}),(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[(0,r.jsx)("button",{className:In,onClick:function(){return c(!1)},children:"Закрыть"}),(0,r.jsx)("button",{className:In,style:{background:"#e3eaff",color:"#2563eb"},onClick:k,children:"Очистить"})]})]})})}),{})]})},Fn="CgjxyfEd",Mn="RLut3f27",qn="slcXbDY8",zn="zRDTHKjp",Hn="oAFdJnbK",Wn="GUOZxmDe";var Gn=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,i=n.length;a<i;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},Zn=function(){return Zn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Zn.apply(this,arguments)},Xn=function(){var e=re(),n=ae((function(e){return e.event})),t=n.loading,r=n.error,i=ae((function(e){return e.filter})),o=function(){var e=ae((function(e){return e.event})).events,n=ae((function(e){return e.search.value})),t=ae((function(e){return e.filter})),r=n.trim().toLowerCase(),a=e.filter((function(e){var n=e.title.toLowerCase(),a=!r||n.startsWith(r)||n.includes(r),i=!t.category||e.category&&e.category.trim().toLowerCase()===t.category.trim().toLowerCase(),o=!0,s=(e.date||"").slice(0,10),c=(t.dateRange.start||"").slice(0,10),l=(t.dateRange.end||"").slice(0,10);c&&l?o=s>=c&&s<=l:c?o=s>=c:l&&(o=s<=l);var u=e.price>=t.priceRange.min&&e.price<=t.priceRange.max;return a&&i&&o&&u}));if(r){for(var i=[],o=[],s=0,c=a;s<c.length;s++){var l=c[s],u=l.title.toLowerCase();u.startsWith(r)?i.push(l):u.includes(r)&&o.push(l)}a=Gn(Gn([],i,!0),o,!0)}return{filteredEvents:a}}().filteredEvents;(0,a.useEffect)((function(){e(T())}),[e]);return{loading:t,error:r,filteredEvents:o,handleAddToFavorites:function(e){},handleBuyTicket:function(e){},handleDateSelect:function(n){e($(Zn(Zn({},i),{dateRange:{start:n,end:n}})))},handleRangeSelect:function(n,t){e($(Zn(Zn({},i),{dateRange:{start:n,end:t}})))}}};const Vn=function(){var e=Xn(),n=e.loading,t=e.error,a=e.filteredEvents,i=e.handleAddToFavorites,o=e.handleBuyTicket,s=e.handleDateSelect,c=e.handleRangeSelect;return n?(0,r.jsx)("div",{className:Hn,children:"Загрузка..."}):t?(0,r.jsxs)("div",{className:Wn,children:["Ошибка: ",t]}):(0,r.jsxs)("div",{className:Fn,children:[(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",marginBottom:"-1.5rem"},children:(0,r.jsx)(Un,{onDateSelect:s,onRangeSelect:c})}),(0,r.jsxs)("div",{className:Mn,children:[(0,r.jsx)("aside",{className:qn,children:(0,r.jsx)(vn,{})}),(0,r.jsx)("main",{className:zn,children:(0,r.jsx)(fn,{events:a,onAddToFavorites:i,onBuyTicket:o})})]})]})},Yn="Crw2kdr1",Kn="C39kYaHZ",_n="nN4bYVhl",Jn="KAiSm_v9",Qn="KJlTLrGi",$n="_RzXGQFk",et="cZJTIiqp",nt="EJOHFjYL",tt="EbW2xjXI",rt="EXuRoKnY",at="uXDX9P80",it="uHtTRs6c",ot="SeuQM5i6",st="sudOS0eV",ct="DzmiSDRR",lt="ZW_on0Wd",ut="cnbyq8qV";var dt=function(){return dt=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},dt.apply(this,arguments)},ft=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},ht=function(e,n){var t,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=n.call(e,i)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};const pt=function(){var e,n=re(),t=ae((function(e){return e.auth})).user,i=ae((function(e){return e.event})),o=i.events,s=i.loading,c=i.error,l=(0,a.useState)(!1),u=l[0],d=l[1],f=(0,a.useState)({username:(null==t?void 0:t.username)||"",email:(null==t?void 0:t.email)||"",city:(null==t?void 0:t.city)||""}),h=f[0],p=f[1];(0,a.useEffect)((function(){t&&n(U())}),[n,t]);var v=function(e){var n;p(dt(dt({},h),((n={})[e.target.name]=e.target.value,n)))};return t?s?(0,r.jsx)("div",{className:lt,children:"Загрузка..."}):c?(0,r.jsx)("div",{className:ut,children:c}):(0,r.jsx)("div",{className:Yn,children:(0,r.jsxs)("div",{className:Kn,children:[(0,r.jsxs)("div",{className:_n,children:[(0,r.jsxs)("div",{className:Jn,children:[(0,r.jsx)("img",{src:t.avatarUrl?t.avatarUrl.startsWith("/uploads")?"".concat(null===(e="https://ebilet-8f91.onrender.com/api")?void 0:e.replace("/api","")).concat(t.avatarUrl):t.avatarUrl:"/img/default-avatar.svg",alt:"Avatar",className:Qn}),(0,r.jsxs)("label",{className:$n,children:["Изменить фото",(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return ft(void 0,void 0,void 0,(function(){var t,r;return ht(this,(function(a){switch(a.label){case 0:return(t=null===(r=e.target.files)||void 0===r?void 0:r[0])?[4,n(E(t))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},style:{display:"none"}})]})]}),(0,r.jsx)("div",{className:et,children:u?(0,r.jsxs)("form",{className:nt,children:[(0,r.jsxs)("div",{className:tt,children:[(0,r.jsx)("label",{children:"Имя пользователя"}),(0,r.jsx)("input",{type:"text",name:"username",value:h.username,onChange:v})]}),(0,r.jsxs)("div",{className:tt,children:[(0,r.jsx)("label",{children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",value:h.email,onChange:v})]}),(0,r.jsxs)("div",{className:tt,children:[(0,r.jsx)("label",{children:"Город"}),(0,r.jsx)("input",{type:"text",name:"city",value:h.city,onChange:v})]}),(0,r.jsxs)("div",{className:rt,children:[(0,r.jsx)("button",{type:"submit",className:it,children:"Сохранить"}),(0,r.jsx)("button",{type:"button",className:ot,onClick:function(){return d(!1)},children:"Отмена"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:t.username}),(0,r.jsx)("p",{children:t.email}),(0,r.jsx)("p",{children:t.city}),(0,r.jsx)("button",{className:at,onClick:function(){return d(!0)},children:"Редактировать профиль"})]})})]}),(0,r.jsxs)("div",{className:st,children:[(0,r.jsx)("h3",{children:"Мои события"}),(0,r.jsx)("div",{className:ct,children:o.map((function(e){return(0,r.jsx)(un,{event:e,onAddToFavorites:function(){},onBuyTicket:function(){}},e.id)}))})]})]})}):(0,r.jsx)("div",{className:ut,children:"Пожалуйста, войдите в систему"})},vt="_ifCH7uh";const mt=function(){return(0,r.jsxs)("div",{className:vt,children:[(0,r.jsx)("h1",{children:"Мои события"}),(0,r.jsx)("p",{children:"Здесь будут отображаться все купленные билеты пользователя на события."})]})},yt="oNLuKqJw",gt="QPT3LbSV";const xt=function(){return(0,r.jsx)(c.Kq,{store:te,children:(0,r.jsx)(o.Kd,{basename:"/ebilet",children:(0,r.jsxs)("div",{className:yt,children:[(0,r.jsx)(Ke,{}),(0,r.jsx)("main",{className:gt,children:(0,r.jsxs)(s.BV,{children:[(0,r.jsx)(s.qh,{path:"/",element:(0,r.jsx)(Vn,{})}),(0,r.jsx)(s.qh,{path:"/profile",element:(0,r.jsx)(pt,{})}),(0,r.jsx)(s.qh,{path:"/my-tickets",element:(0,r.jsx)(mt,{})})]})})]})})})};i.createRoot(document.getElementById("root")).render((0,r.jsx)(a.StrictMode,{children:(0,r.jsx)(xt,{})}))}},e=>{e.O(0,[167],(()=>{return n=273,e(e.s=n);var n}));e.O()}]);
//# sourceMappingURL=main.721f4755.js.map